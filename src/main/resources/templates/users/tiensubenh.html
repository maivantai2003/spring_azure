<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Bill</title>
</head>

<body>
<div th:fragment="contentUser" class="container">
    <link rel="stylesheet" th:href="@{../../css/user/thongtinbenh.css}">
    <link rel="stylesheet" th:href="@{../../css/user/chitietbenh.css}">

    <form th:action="@{/users/tiensubenh/capnhatchitietbenh}" method="post">
        <div class="card">
        <div class="header">
            <input type="hidden" name="maTongQuan" th:value="${tongQuan.maTongQuan}" />
            <button type="submit">Cáº­p nháº­t</button>
        </div>

        <div class="info-section">
            <div class="info-text info">
                <p><strong>CÃ¢n nÄƒÌ£ng:</strong> <span class="status-pill diagnosis-pill" th:text="${tongQuan.canNang + 'kg'}">0</span></p>
                <p><strong>ChiÌ‰ sÃ´Ì BMI:</strong> <span class="status-pill diagnosis-pill" th:text="${tongQuan.chiSoBMI}">0</span></p>
                <p><strong>ChiÃªÌ€u cao:</strong> <span class="status-pill diagnosis-pill" th:text="${tongQuan.chieuCao + 'cm'}">0</span></p>
                <p><strong>ÄÆ°Æ¡Ì€ng huyÃªÌt:</strong> <span class="status-pill status-discharged" th:text="${tongQuan.duongHuyet + 'mg/dL'}">0</span></p>
                <p><strong>HuyÃªÌt aÌp:</strong> <span class="status-pill blood-group-pill" th:text="${tongQuan.huyetAp + 'mmHg'}">0</span></p>
                <p><strong>NhiÃªÌ£t Ä‘Ã´Ì£:</strong> <span class="status-pill blood-group-pill" th:text="${tongQuan.nhietDo + 'Â°C'}">0</span></p>
                <p><strong>NhiÌ£p tim:</strong> <span class="status-pill blood-group-pill" th:text="${tongQuan.nhipTim + 'bpm'}">0</span></p>
                <p><strong>NhoÌm maÌu:</strong> <span class="status-pill status-discharged" th:text="${tongQuan.nhomMau}">0</span></p>
            </div>
        </div>

        <table class="table table-striped table-bordered">
            <thead>
            <tr>
                <th>TiÃªÌ€n sÆ°Ì‰ bÃªÌ£nh (DÆ°Ì£ Ä‘oaÌn)</th>
            </tr>
            </thead>
            <tbody th:if="${dsChiTietBenh != null and !#lists.isEmpty(dsChiTietBenh)}">
                <tr th:each="chiTietBenh : ${dsChiTietBenh}">
                    <td th:text="${chiTietBenh.tenBenh}"></td>
                </tr>
            </tbody>
            <tbody th:if="${dsChiTietBenh == null or #lists.isEmpty(dsChiTietBenh)}">
                <tr>
                    <td>ğŸ’– SÆ°Ìc khoÌ‰e rÃ¢Ìt tÃ´Ìt ğŸ’–</td>
                </tr>
            </tbody>
        </table>

        <div class="cost-section">
            ChÃºc Báº¡n Máº¡nh Khá»e ğŸ’–
        </div>

    </div>

    </form>
</div>

<script>
    let currentIndex = 0;

    const thumbnails = document.querySelectorAll('.thumbnail-container img');
    const mainImage = document.getElementById('mainImage');

    thumbnails[currentIndex].classList.add('thumbnail-active');

    thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener('click', () => {
            updateMainImage(index);
        });
    });

    function updateMainImage(index) {
        thumbnails[currentIndex].classList.remove('thumbnail-active');
        currentIndex = index;
        mainImage.src = thumbnails[index].dataset.src;
        thumbnails[currentIndex].classList.add('thumbnail-active');
    }

    function prevImage() {
        if (currentIndex > 0) {
            updateMainImage(currentIndex - 1);
        } else {
            updateMainImage(thumbnails.length - 1);
        }
    }

    function nextImage() {
        if (currentIndex < thumbnails.length - 1) {
            updateMainImage(currentIndex + 1);
        } else {
            updateMainImage(0);
        }
    }
</script>
</body>

</html>